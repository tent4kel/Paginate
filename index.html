<html>
<head>
    <title>Paginate</title>

    
    <link rel="stylesheet" href="appearance.css">
        
    <script type="text/javascript" src="uglifyjs.js"></script>
    <script type="text/javascript" src="columnate.js"></script>
    <script>
        
        function CreateLink() {

            // cribbed from bookmarkletify
            var toplevel_ast = UglifyJS.parse(Columnate.toString() + "Columnate();");
            toplevel_ast.figure_out_scope();
            var compressor = UglifyJS.Compressor();
            var compressed_ast = toplevel_ast.transform(compressor);
            compressed_ast.figure_out_scope();

            var url = "javascript: (function () {" + compressed_ast.print_to_string() + "}())";
            document.getElementById("bookmarkletLink").href = url;
            document.getElementById("bookmarkletLink").className = "ready";
            document.getElementById("bookmarkletPlainText").textContent = url;
        };

        function ClickHelp() {
            alert("Drag this link to your bookmark bar.");
            return false;
        };

        function CopyToClipboard() {
            var copyText = document.getElementById("bookmarkletPlainText").textContent;
            navigator.clipboard.writeText(copyText).then(function() {
                alert("Bookmarklet copied to clipboard!");
            }, function(err) {
                alert("Failed to copy bookmarklet: ", err);
            });
        }
    </script>

</head>
<body onload="CreateLink();">
<div style="margin: 5em; max-width: 30em;">
<h1>Paginate</h1>

<p>This bookmarklet below creates a simplified, columnated and paginated version of almost any website. Enjoy a newspaper-like reading experience without scrolling. Works great on eInk devices and tablets. </>


<p>Drag this link to your bookmarks bar to install:</p>

<p><strong><a href="#" id="bookmarkletLink" onclick="return ClickHelp();" title="Drag this link to your bookmark bar.">Columnate</a></strong>
<button onclick="CopyToClipboard()">Copy to Clipboard</button></p>

<!-- Plain text version of the link for manual copying -->
<p>If you can't drag the link, you can copy the link below and manually add it to your bookmarks:</p>
<pre id="bookmarkletPlainText" style="background-color: #f4f4f4; padding: 10px; border: 1px solid #ccc;"></pre>
<p>Now find a web page with a long article. Click the <strong>Columnate</strong> bookmarklet to reformat the page free of distractions. The article will be formatted in narrow columns like a newspaper[...]

<p>This is built on top of <a href="https://github.com/anoved/Columnate">Columnate project page</a>.</p>
</div>
</body>
</html>
